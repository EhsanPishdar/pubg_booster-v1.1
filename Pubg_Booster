#!/bin/bash
# MILITARY GREEN BOOSTER â€” PUBG PRO BOOSTER (Non-root, Lightweight)
# Version: 1.1
# Creator: Ehsan

GAME_PACKAGE="com.tencent.ig"
CHANNEL_LINK="https://t.me/MAYKI_1_SHOP_PUBG"

# Colors
GREEN="\e[1;32m"
WHITE="\e[1;37m"
NC="\e[0m"

pause() { sleep ${1:-0.2}; }
info() { echo -e "${GREEN}[INFO]${NC} $1"; }

show_header() {
  clear
  echo -e "${GREEN}=== MILITARY GREEN BOOSTER v1.1 ===${NC}"
  echo -e "Creator: Ehsan"
  echo
}

military_boost() {
  show_header
  info "Activating Military Boost..."
  pause 0.3

  info "Step 1: Soft RAM trim..."
  am send-trim-memory com.termux 80 >/dev/null 2>&1 || true
  pause 0.2

  info "Step 2: Closing common background apps..."
  for app in com.android.chrome com.facebook.katana com.youtube.android; do
    am force-stop $app >/dev/null 2>&1 || true
  done
  pause 0.2

  info "Step 3: Clearing safe cache paths..."
  rm -rf /sdcard/Android/data/${GAME_PACKAGE}/cache/* 2>/dev/null || true
  pause 0.2

  info "Step 4: Applying 120FPS hint (non-root)..."
  mkdir -p /sdcard/Android/data/${GAME_PACKAGE}/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/Config/Android 2>/dev/null || true
  echo "[/Script/Engine.RendererSettings]" > /sdcard/Android/data/${GAME_PACKAGE}/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/Config/Android/GameUserSettings.ini 2>/dev/null || true
  echo "bUse120FPS=True" >> /sdcard/Android/data/${GAME_PACKAGE}/files/UE4Game/ShadowTrackerExtra/ShadowTrackerExtra/Saved/Config/Android/GameUserSettings.ini 2>/dev/null || true
  pause 0.2

  info "Military Boost Applied Successfully!"
  pause 0.5
}

network_test() {
  show_header
  info "Network / Internet Booster"
  echo -e "${GREEN}Checking ping to 1.1.1.1${NC}"
  ping -c3 1.1.1.1
  pause 0.5
}

open_telegram() {
  show_header
  info "Opening Telegram Channel..."
  am start -a android.intent.action.VIEW -d "$CHANNEL_LINK" >/dev/null 2>&1 || true
  pause 0.5
}

menu() {
  while true; do
    show_header
    echo "1) Military Boost (PUBG Booster)"
    echo "2) Network Test / Internet Booster"
    echo "3) Open Telegram Channel"
    echo "4) Exit"
    read -p "Select> " sel
    case "$sel" in
      1) military_boost;;
      2) network_test;;
      3) open_telegram;;
      4) clear; info "Exiting..."; sleep 0.3; exit 0;;
      *) info "Invalid option.";;
    esac
    read -p "Press Enter to continue..."
  done
}

# Start
menu
